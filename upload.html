<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upload</title>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<style>
@import url(http://fonts.googleapis.com/css?family=Exo:100,200,400);
@import url(http://fonts.googleapis.com/css?family=Source+Sans+Pro:700,400,300);

	body{

		background: rgb(230, 230, 230); 
		
	}
	.div1{
		margin:0 auto;
		width:1400px;
		display:block;
	}
	.subdiv1{
		display: inline-flex;
		display: -webkit-inline-flex;
		width: 100%;
		height: 140px;
	}
	.subdiv2{
		margin: 0 auto;
		display: table;
		height: 200px!important;
	}
	.subdiv3{
		width:60%;
		margin: 0 auto;
		display: table;
	}	
	.logout input[type="submit"] {
		width: 160px;
		height: 35px;
		background: #fff;
		border: 1px solid #fff;
		cursor: pointer;
		border-radius: 2px;
		color: #5379fa;
		font-family: 'Exo', sans-serif;
		font-size: 16px;
		font-weight: 400;
		padding: 6px;
		margin-top: 10px;
	}

	.logout input[type=submit]:hover{
		opacity: 0.8;
	}

	.logout input[type=submit]:active{
		opacity: 0.6;
	}

	.logout input[type=submit]:focus{
		outline: none;
		border: 1px solid rgba(255,255,255,0.9);
	}

	.logout input[type=submit]:focus{
		outline: none;
		border: 1px solid rgba(255,255,255,0.9);
	}

	.logout input[type=submit]:focus{
		outline: none;
	}

	::-webkit-input-placeholder{
	   color: rgba(255,255,255,0.6);
	}

	::-moz-input-placeholder{
	   color: rgba(255,255,255,0.6);
	}
	.name div{
		color: #fff;
		font-family: 'Exo', sans-serif;
		font-size: 35px;
		font-weight: 500;
	}
	.name div span{
		color: #5379fa !important;
	}
	
	.info div{
		color: #fff;
		font-family: 'Verdana';
		
		font-size: 22px;
		font-weight: bold;
		text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
	}
	.info div span{
		font-family: 'Exo', sans-serif;
		color: #5379fa !important;
		text-shadow: none !important;
		font-weight: 500;
		}

		
	.image,.info,.user, .invia{
		display:inline-block;
		text-align:center;
	}



	.invia input[type=submit]{
		width: 160px;
		height: 35px;
		background: #597ef9;
		border: 1px silver;
		cursor: pointer;
		border-radius: 2px;
		color: #fff;
		font-family: 'Exo', sans-serif;
		font-size: 16px;
		font-weight: 400;
		padding: 6px;
		

	}

	
	.invia input[type=submit]:hover{
	opacity: 0.8;
	}

	.invia input[type=submit]:active{
		opacity: 0.6;
	}

	.invia input[type=text]:focus{
		outline: none;
		border: 1px solid rgba(255,255,255,0.9);
	}


	.invia input[type=password]:focus{
		outline: none;
		border: 1px solid rgba(255,255,255,0.9);
	}


	.invia input[type=submit]:focus{
		outline: none;
	}

	

	

</style>

</head>

<body>

{% if error %}
<div style="display:inline-flex;width:100%;min-height:700px;">
	<div style="display:block;margin:0 auto;width:1024px;margin-top:30px;">
		<div class="user" style="position: absolute;right:350px;width:350px;">
			<div class="name">
				<div><span> Ciao, {{ namehtml }} </span> </div>
			</div>
			<form action = "/logout" method = "POST">
			<div class="logout">
				<input value="Logout" type="submit" style="margin: 0 auto;display: block;">
			</div>
			</form>
		</div>
		
		<form id="upload-form" action="/uploader" method="POST" enctype="multipart/form-data">
		<div style="display:table;margin:0 auto;height:100%;margin-top:150px;"><!-- Qui occorre ripetere margin:0 auto perchè la prima centro il contenitore padre, mentre la seconda volta centro il contenuto-->
			<div style="display:table-cell;vertical-align:middle;">
				<div class="image" style="margin: 0 auto;display: block;">
					<img src="{{url_for('static', filename = 'ivl.png')}}" style="margin: 0 auto;display: block;">
					
				</div>
				<div class="info">
					<div> 	<br> {{error}} <br>		<br>			
							<span> File:</span>
					</div>			
						<div class = "invia">
						<input  id="file-picker" type="file" name="file" accept="image/*" style = "color: #5379fa"> </input>
						</div>
						<div id="msg"></div>
							
						<div class = "invia">
							<br><input type="submit" value="Upload!" id="upload-button">
						</div>
					</div>
				</div>
			</div>
		</form>
			<form action = "/" method = "POST">
			<div style="display:table;margin:0 auto;height:100%;margin-top:150px;"><!-- Qui occorre ripetere margin:0 auto perchè la prima centro il contenitore padre, mentre la seconda volta centro il contenuto-->
					<div style="display:table-cell;vertical-align:middle;">
						<br> <br> 
						
							<div class = "info">
								<div>
									<span>Se vuoi iniziare l'annotazione dei volti, premi &nbsp </span>
								</div>
							</div>
							<div class = "invia">
							<input type = "submit" value = "Inizia">
							</div>	
					</div>
			</div>
			</form>	
		</div>
					
	</div>
{% else %}
<div style="display:inline-flex;width:100%;min-height:700px;">
	<div style="display:block;margin:0 auto;width:1024px;margin-top:30px;">
		<div class="user" style="position: absolute;right:350px;width:350px;">
			<div class="name">
				<div><span> Ciao, {{ namehtml }} </span> </div>
			</div>
			<form action = "/logout" method = "POST">
			<div class="logout">
				<input value="Logout" type="submit" style="margin: 0 auto;display: block;">
			</div>
			</form>
		</div>
		<form id="upload-form" action="/uploader" method="POST" enctype="multipart/form-data">
		<div style="display:table;margin:0 auto;height:100%;margin-top:150px;"><!-- Qui occorre ripetere margin:0 auto perchè la prima centro il contenitore padre, mentre la seconda volta centro il contenuto-->
			<div style="display:table-cell;vertical-align:middle;">
				<div class="image" style="margin: 0 auto;display: block;">
					<img src="{{url_for('static', filename = 'ivl.png')}}" style="margin: 0 auto;display: block;">
				</div>
				<div class="info">
					<div>	<br>					
							<span> File:</span>
					</div>			
						<div class = "invia">
						<input  id="file-picker" type="file" name="file" accept="image/*" style = "color: #5379fa"> </input>
						</div>
						<div id="msg"></div>
							
						<div class = "invia">
							<br><input type="submit" value="Upload!" id="upload-button">
						</div>
					</div>
				</div>
			</div>
		</form>
			<form action = "/" method = "POST">
			<div style="display:table;margin:0 auto;height:100%;margin-top:150px;"><!-- Qui occorre ripetere margin:0 auto perchè la prima centro il contenitore padre, mentre la seconda volta centro il contenuto-->
					<div style="display:table-cell;vertical-align:middle;">
						<br> <br> 
						
							<div class = "info">
								<div>
									<span>Se vuoi iniziare l'annotazione dei volti, premi &nbsp </span>
								</div>
							</div>
							<div class = "invia">
							<input type = "submit" value = "Inizia">
							</div>	
					</div>
			</div>
			</form>	
		</div>
					
	</div>
</body>

<script>
    $("#file-picker").change(function(){
        var input = document.getElementById('file-picker');
		input.style.color = "#5379fa";
        for (var i=0; i<input.files.length; i++)
        {
        //koala.jpg, koala.JPG substring(index) lastIndexOf('a') koala.1.jpg
            var ext= input.files[i].name.substring(input.files[i].name.lastIndexOf('.')+1).toLowerCase()
            if ((ext == 'jpg' || ext == 'png'))
            {
                $("#msg").text("File supportato")
            }
            else
            {
                $("#msg").text("File non supportato")
                document.getElementById("file-picker").value ="";
            }
        }
    } );
</script>
{% endif %}

</html>